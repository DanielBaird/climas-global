!function e(s,a,i){function n(o,p){if(!a[o]){if(!s[o]){var l="function"==typeof require&&require;if(!p&&l)return l(o,!0);if(t)return t(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=a[o]={exports:{}};s[o][0].call(c.exports,function(e){var a=s[o][1][e];return n(a?a:e)},c,c.exports,e,s,a,i)}return a[o].exports}for(var t="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({1:[function(e){function s(e,s){var a=$(".mspp-page.speciesshowing"),i=$(".mspp-page.speciesselect"),n=$(".mspp-page.biodiversityshowing"),t=$(".mspp-page.biodiversityselect");$(s.page).is(a)?(n.removeClass("current").css({display:"none"}),t.addClass("current")):$(s.page).is(n)&&(a.removeClass("current").css({display:"none"}),i.addClass("current"))}e("./menusandpanels"),e("./speciespanel"),$("header").disableSelection(),$("nav > ul").mspp({showpage:s})},{"./menusandpanels":2,"./speciespanel":3}],2:[function(){!function(e){e.widget("climas.mspp",{options:{animationFactor:2,mainMenuClass:"mspp-main-menu",panelClass:"mspp-panel",pageClass:"mspp-page",clearfixClass:"mspp-clearfix",activeClass:"current"},_create:function(){var s=this,a=this.options,i=this.element;this.mainMenuItems=i.children("li"),this.panels=e("."+a.panelClass),i.css({opacity:0}),this.panels.css({opacity:0}),i.addClass(a.mainMenuClass),i.addClass(a.clearfixClass),this.panels.addClass(a.clearfixClass),this._layoutMenu(),this._layoutPanels(),i.on("msppshowmenu",this._showMenu),i.on("msppshowsubmenu",this._showSubMenu),i.on("msppshowpanel",this._showPanel),i.on("msppshowpage",this._showPage),this.mainMenuItems.each(function(a,i){e(i).children("a").click(function(e){s._trigger("showmenu",e,{menuitem:i,widget:s})}),e(i).find("li").each(function(a,n){e(n).find("a").click(function(e){s._trigger("showsubmenu",e,{menuitem:i,submenuitem:n,widget:s})})})}),i.find("[data-targetpanel]").each(function(a,i){var n=e(i);n.click(function(a){s._trigger("showpanel",a,{panel:e("#"+n.data("targetpanel")).first(),widget:s})})}),this.panels.each(function(a,i){var n=e(i);n.find("[data-targetpage]").click(function(a){s._trigger("showpage",a,{panel:n,page:e("#"+e(this).data("targetpage")),widget:s})})});var n=this.mainMenuItems.filter("."+a.activeClass);n.removeClass(a.activeClass).children("a").click(),i.animate({opacity:1},"fast")},_switchClassOption:function(e,s){var a=this.options[e];if(a!==s){var i=this.element.find("."+a);this.options[e]=s,i.removeClass(a),i.addClass(s)}},_setOption:function(e,s){switch(e){case"mainMenuClass":case"clearfixClass":case"activeClass":this._switchClassOption(e,s);break;default:this.options[e]=s}this._super("_setOption",e,s)},_destroy:function(){this.element.removeClass(this.options.mainMenuClass),this.element.removeClass(this.options.clearfixClass),this.panels.removeClass(this.options.clearfixClass)},_layoutMenu:function(){this.element.find("ul").each(function(s,a){var i=e(a);i.css({width:"auto"}),i.data("originalWidth",i.width()),i.css({width:0,display:"none"})})},_showMenu:function(s,a){var i=e(a.menuitem),n=a.widget;if(i.hasClass(n.options.activeClass));else{n._hidePanels(),n.mainMenuItems.removeClass(n.options.activeClass);var t=i.find("ul"),o=n.element.find("ul").not(t),p=t.data("originalWidth");o.animate({width:0},50*n.options.animationFactor,function(){o.css({display:"none"})}),i.addClass(n.options.activeClass),t.css({display:"block"}).animate({width:p},125*n.options.animationFactor,function(){t.css({width:"auto"}).removeAttr("style"),n._trigger("menushown",s,{item:i,widget:n})}),t.find("."+n.options.activeClass+" a").click()}},_showSubMenu:function(s,a){e(a.menuitem).find("li").removeClass(a.widget.options.activeClass),e(a.submenuitem).addClass(a.widget.options.activeClass)},_layoutPanels:function(){var s=this.panels.find("."+this.options.pageClass);s.each(function(s,a){var i=e(a);i.css({height:"auto"}),i.data("originalHeight",i.outerHeight()),i.css({height:0,display:"none"})}),this.panels.each(function(s,a){var i=e(a);i.css({display:"none"})})},_hidePanels:function(){this.panels.removeClass(this.options.activeClass).css({display:"none",height:0})},_showPanel:function(s,a){var i=e(a.panel),n=a.widget;if(i.hasClass(n.options.activeClass));else{n._hidePanels(),i.addClass(n.options.activeClass),i.css({display:"block",opacity:1});var t=e(i.find("."+n.options.pageClass+"."+n.options.activeClass));n._trigger("showpage",s,{panel:i,page:t,widget:n})}},_showPage:function(s,a){var i=a.widget,n=e(a.panel),t=e(a.page),o=t.data("originalHeight");n.css({height:n.height()});var p=n.find("."+i.options.pageClass+"."+i.options.activeClass).not(t);p.length>0&&(p.data("originalHeight",p.outerHeight()),p.removeClass(i.options.activeClass).fadeOut(50*i.options.animationFactor,function(){p.css({height:0})})),t.css({height:"auto"}).addClass(i.options.activeClass).fadeIn(100*i.options.animationFactor,function(){t.removeAttr("style")});var l=p.length>0?100*i.options.animationFactor:150*i.options.animationFactor;n.animate({height:o},l,function(){n.removeAttr("style")})},_:null})}(jQuery,window,document)},{}],3:[function(){!function(){var e=function(){$.inArray($("#speciesname").val(),i)>-1?$("#sppshowmap").removeClass("disabled").prop("disabled",!1):$("#sppshowmap").addClass("disabled").prop("disabled",!0)},s=function(){var e=$("input[name=spptimepoint]:checked");"baseline"===e.val()?($("input[name=sppscenario], input[name=sppgcm]").prop("disabled",!0),$("fieldset.sppscenario, fieldset.sppgcm").addClass("disabled")):($("input[name=sppscenario], input[name=sppgcm]").prop("disabled",!1),$("fieldset.sppscenario, fieldset.sppgcm").removeClass("disabled"))};speciesFetch=$.ajax({url:"/data/species"});var a=[],i=[];speciesFetch.done(function(e){a=[],i=[],$.each(e,function(e,s){i.push(e),s?$.each(s,function(s,i){a.push({label:i+" ("+e+")",value:e})}):a.push({label:e,value:e})}),$("#speciesname").autocomplete({source:a})}),$("#speciesname").on("autocompleteclose",function(){e()}),$("#speciesname").on("keyup",function(){e()}),$("#speciesname").on("change",function(){e()}),$("input[name=spptimepoint]").change(function(){s()}),e(),s(),$("#mapframe").load(function(){$("#map").animate({opacity:1},2500)}),$("#sppshowmap").click(function(){var e=$("#speciesname").val(),s=$("input[name=spptimepoint]:checked").val(),a=$("input[name=sppscenario]:checked").val(),i=$("input[name=sppgcm]:checked").val(),n=a+"_"+i+"_"+s;"baseline"===s&&(n="1990");var t="http://130.102.155.33:8080/"+e.replace(" ","_")+"/output/"+n+".tif";t=window.climasSettings.vizUrlPrefix+encodeURIComponent(t),$("#speciesshowingpage .speciesname").html(e),$("#map").animate({opacity:0},"fast",function(){$("#mapframe").attr("src",t)})})}()},{}]},{},[1]);